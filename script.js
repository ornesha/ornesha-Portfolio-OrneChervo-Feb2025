
const projectsData = {
    
    "about": {
        title: "Sobre M√≠",
        
        desc: `
        <div class="clipped-photo">
            <svg class="paperclip" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
                <path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"></path>
            </svg>
            <img src="assets/yo.png" alt="Ornella Chervo" class="my-photo">
        </div>
        ¬°Hola! Soy Ornella Chervo.\n\nEstudiante de Licenciatura en Dise√±o Integral en la Universidad Torcuato Di Tella (CABA, Argentina).\n\nPERFIL:\nApasionada por la comunicaci√≥n visual y los proyectos creativos que integran dise√±o gr√°fico, branding, editorial y audiovisual. Busco aplicar mis conocimientos en proyectos diversos y trabajar en equipo.\n\nHABILIDADES:\nVisi√≥n 360¬∞, Adaptabilidad, Autogesti√≥n, Empat√≠a, Trabajo en equipo, Storytelling.\n\nHERRAMIENTAS:\nAdobe (Illustrator, Photoshop, After Effects, Fresco), Figma, Rhinoceros 3D, Avid Pro Tools, Office & Google Workspace.\n\nEXPERIENCIA:\n‚Ä¢ CM Hockey Di Tella (2025 - Actualidad)\n‚Ä¢ CM Atleta - Paz Boullosa, runner  (2025 - Actualidad)\n‚Ä¢ Atenci√≥n al P√∫blico en Bonetti Supermercados (2017 - 2024)\n\nCONTACTO:\nüìß ornellapaulachervo@gmail.com\nüì± +54 336 434-2297\n\n
        
        üëâ <a href='https://www.behance.net/ornechervo' target='_blank' style='color: #0057ff; text-decoration: none; font-weight: bold; background: #eee; padding: 6px 12px; border-radius: 6px;'>Behance</a>
        
        &nbsp;&nbsp;
        
        üíº <a href='https://www.linkedin.com/in/ornellachervo?utm_source=share&utm_campaign=share_via&utm_content=profile&utm_medium=ios_app' target='_blank' style='color: #0077b5; text-decoration: none; font-weight: bold; background: #eee; padding: 6px 12px; border-radius: 6px;'>LinkedIn</a>`,
        
        tags: "#Dise√±oIntegral #Adobe #Figma #Branding #CM",
        gallery: [
             { type: 'image', src: 'assets/utdt1.jpeg' },
            { type: 'image', src: 'assets/utdt2.jpeg' } 
        ]
    },
    "odisea": {
        title: "El viaje de Ulises",
        desc: "Narrativa visual basada en el viaje del h√©roe. Una exploraci√≥n de t√©cnicas mixtas para contar una historia cl√°sica.",
        tags: "#InteligenciaArtificial #Storytelling #Audiovisual #Gemini #Luma #Eleven11Labs #Suno #AfterEffects",
        gallery: [
            { type: 'image', src: 'assets/ulises1.png' },
            { type: 'image', src: 'assets/ulises2.png' },
            { type: 'image', src: 'assets/ulises3.png' },
            { type: 'image', src: 'assets/ulises4.png' },
            { type: 'image', src: 'assets/ulises5.png' },
            { type: 'image', src: 'assets/ulises6.png' },
            { type: 'image', src: 'assets/ulises7.png' },
            { type: 'image', src: 'assets/ulises8.png' },
            { type: 'image', src: 'assets/ulises9.png' }, 
            { type: 'image', src: 'assets/ulises10.png' },
            { type: 'image', src: 'assets/ulises11.png' },
            { type: 'image', src: 'assets/ulises12.png' },
            { type: 'image', src: 'assets/ulises13.png' },
            { type: 'image', src: 'assets/ulises14.png' },
            { type: 'youtube', src: 'https://www.youtube.com/embed/MJMUuwdRu2w' }
            
        ]
    },
    "ui-system": { 
        title: "Fungi - Objeto no Identificado",
        desc: "Dise√±o de un objeto que parezca un producto, pero que no tenga una funci√≥n clara. Llevado a cabo utilizando diferentes materiales y proveedores.",
        tags: "#Dise√±oObjetual #Producto #3D #Materiales #Cer√°mica #Metal #Rhinoceros #maquetaci√≥n",
        gallery: [
            { type: 'image', src: 'assets2/fungiportada.jpg' },
            { type: 'image', src: 'assets2/fungipartes.jpg' },
            { type: 'image', src: 'assets2/fungifoto1.jpg' },
            { type: 'image', src: 'assets2/fungifoto2.jpg' },
            { type: 'image', src: 'assets2/fungifoto3.jpg' },
            { type: 'image', src: 'assets2/fungifoto4.jpg' },
            { type: 'image', src: 'assets2/fungifoto5.jpg' },
            { type: 'image', src: 'assets2/fungifoto6.jpg' }
        ]
    },
    "juegodeplaza": { 
        title: "Gir√≥ptico",
        desc: "Dise√±o y conceptualizaci√≥n de un juego infantil para el Parque de la Innovaci√≥n en CABA.",
        tags: "#Dise√±oIndustrial #Modelado3D #Infantil #L√∫dico #Rhinoceros #AdobePhotoshop #AdobeIllustrator #Impresi√≥n3D #maquetaci√≥n",
        gallery: [
            { type: 'image', src: 'assets2/Giroptico.jpg' },
            { type: 'image', src: 'assets2/Giropticofoto1.jpg' },
            { type: 'image', src: 'assets2/Giropticofoto3.jpg' },
            { type: 'image', src: 'assets2/Giropticofoto4.jpg' },
            { type: 'image', src: 'assets2/Giropticofoto5.jpg' },
            { type: 'image', src: 'assets2/Giropticomockup1.jpg' },
            { type: 'image', src: 'assets2/Giropticomockup2.png' },
            { type: 'image', src: 'assets2/Giropticomockup4.png' }
        ]
    },
   
    "branding": {
        title: "Hockey Di Tella redes sociales",
        desc: `Gesti√≥n de redes sociales e identidad visual para el equipo de Hockey de la Universidad Torcuato di Tella.<br><br>
        
        üëâ <a href='https://www.instagram.com/hockeyditella?utm_source=ig_web_button_share_sheet&igsh=ZDNlZDc0MzIxNw==' target='_blank' style='color: #E1306C; text-decoration: none; font-weight: bold; background: #eee; padding: 5px 10px; border-radius: 5px;'>Ver Instagram</a>
        <br><br>
        üéµ <a href='https://www.tiktok.com/@hockeyutdt?_r=1&_t=ZM-92uMOq38l7k' target='_blank' style='color: #000000; text-decoration: none; font-weight: bold; background: #eee; padding: 5px 10px; border-radius: 5px;'>Ver TikTok</a>`,
        
        tags: "#Redes Sociales #Branding #Instagram #TikTok #Deporte #AdobeIllustrator #AdobePhotoshop #Figma",
        gallery: [
            { type: 'image', src: 'assets2/instautdt.png' },
            { type: 'image', src: 'assets/ttutdt.png' }
        ]
    },

    "editorial": { 
        title: "Revista Kill Bill",
        desc: "Dise√±o y maquetaci√≥n experimental de una revista en base a la pel√≠cula de Tarantino, Kill Bill.",
        tags: "#Editorial #Layout #blackandwhite #AdobeIllustrator #AdobePhotoshop #impresi√≥n",
        gallery: [
            { type: 'image', src: 'assets2/kb0.jpg' },
            { type: 'image', src: 'assets2/kb1.jpg' },
            { type: 'image', src: 'assets2/kb2.jpg' },
            { type: 'image', src: 'assets2/kb3.jpg' },
            { type: 'image', src: 'assets2/kb4.jpg' },
            { type: 'image', src: 'assets2/kb5.jpg' },
            { type: 'image', src: 'assets2/kb6.jpg' },
            { type: 'image', src: 'assets2/kb7.jpg' },
            { type: 'image', src: 'assets2/kb8.jpg' },
            { type: 'image', src: 'assets2/kb9.jpg' },
            { type: 'image', src: 'assets2/kb10.jpg' }
        ]
    },
    "itinerario": { 
        title: "Metal y Piedra",
        desc: "Proyecto de identidad y comunicaci√≥n visual de un itinerario en la Comuna 13 de CABA.",
        tags: "#IdentidadVisual #Itinerario #Branding #Audiovisual #Gr√°fico #AdobeIllustrator #AdobePhotoshop #AfterEffects",
        gallery: [
            { type: 'image', src: 'assets/mypfotos.jpg' },
            { type: 'youtube', src: 'https://www.youtube.com/embed/jrYM0qriTnA' },
            { type: 'image', src: 'assets/mypafiche.jpg' },
            { type: 'image', src: 'assets/mypgifafichetas.gif' },
            { type: 'image', src: 'assets/mypitinerario.jpg' },
            { type: 'image', src: 'assets/mypsouvenirs.jpg' },
            { type: 'image', src: 'assets/mypposts.jpg' },
            { type: 'image', src: 'assets/mypstorys.jpg' },
            { type: 'image', src: 'assets/myptoolkit.jpg' }
            
        ]
    },
    "proyecci√≥n": { 
        title: "Oniria",
        desc: "Exploraci√≥n visual basada en el libro El Fin de los Sue√±os, de Gabriella Campbell y Jos√© Antonio Cotrina. A partir del concepto de las pesadillas y los sue√±os tratado en el libro, decidimos hacer una reinterpretaci√≥n audiovisual en el MediaLab de la facultad",
        tags: "#Audiovisual #Proyecci√≥n #Experiencia #Envolvente #Contraste #Blender #AfterEffects #Reaper",
        gallery: [
            { type: 'image', src: 'assets/oniriaportada.png' },
            { type: 'youtube', src: 'https://www.youtube.com/embed/Gi_Ci602k2U' },
            { type: 'image', src: 'assets/oniriaelementos7.png' },
            { type: 'image', src: 'assets/oniriaelementos4.png' },
            { type: 'image', src: 'assets/oniriaelementos1.png' },
            { type: 'image', src: 'assets/oniriafoto1.png' },
            { type: 'image', src: 'assets/oniriaelementos6.png' },
            { type: 'image', src: 'assets/oniriaelementos5.png' },
            { type: 'image', src: 'assets/oniriaelementos2.png' }
        ]
    },
    "entornorealidadvirtual": { 
        title: "Squizo",
        desc: "Dise√±o de un entorno 3d para realidad virtual basado en la idea de una distop√≠a fantasiosa<br><br>üëâ <a href='https://www.youtube.com/watch?v=4Q-neNWaYNA' target='_blank' style='color: #d86303; text-decoration: underline; font-weight: bold;'>Ver Video en YouTube</a>",
        tags: "#Modelado3D #RealidadVirtual #Entorno #Distop√≠a #Blender #Reaper #Premiere",
        gallery: [
            { type: 'image', src: 'assets/squizo1.png' },
            { type: 'image', src: 'assets/squizo2.png' },
            { type: 'image', src: 'assets/squizo3.png' },
            { type: 'image', src: 'assets/squizo4.png' }
        ]
    },
    "libro": { 
        title: "El viaje de Totoro",
        desc: "Reinterpretaci√≥n del libro Buscando a Wally basada en estudio Ghibli, utilizando √∫nicamente Inteligencia Artificial. La historia sigue al personaje Totoro que viaja por las distintas dimensiones de las pel√≠culas de Studio Ghibli en busca de regresar a su hogar, y en cada p√°gina hayq ue encontrar al Totoro que aparece en la esquina inferior como referencia.",
        tags: "#FanArt #StudioGhibli #BuscandoAWally #InteligenciaArtificial #Gemini",
        gallery: [
            { type: 'image', src: 'assets/totoro1.jpg' },
            { type: 'image', src: 'assets/totoro12.jpg' },
            { type: 'image', src: 'assets/totoro14.jpg' },
            { type: 'image', src: 'assets/totoro16.jpg' },
            { type: 'image', src: 'assets/totoro18.jpg' },
            { type: 'image', src: 'assets/totoro20.jpg' },
            { type: 'image', src: 'assets/totoro22.jpg' },
            { type: 'image', src: 'assets/totoro24.jpg' },
            { type: 'image', src: 'assets/totoro26.jpg' },
            { type: 'image', src: 'assets/totoro36.jpg' }
        ]
    },
    "appdesign": { 
        title: "Sync",
        desc: "Prototipado de aplicaci√≥n que conecta artistas y oyentes seg√∫n gustos, intereses y habilidades, priorizando la curadur√≠a social por sobre los algoritmos tradicionales. SYNC propone una experiencia donde el descubrimiento, el feedback y la colaboraci√≥n fortalecen la visibilidad y el sentido de pertenencia en la escena musical emergente.",
        tags: "#Prototipo #App #UXUI #Figma #Investigaci√≥nDeUsuario #M√∫sica #Social",
        gallery: [
            { type: 'image', src: 'assets/syncportada.png' },
            { type: 'youtube', src: 'https://www.youtube.com/embed/SN-v0qFvL3c' }
        ]
    }
};

let currentProject = null;
let currentLbIndex = 0;


const modalOverlay = document.getElementById('modal-overlay');
const closeBtn = document.getElementById('close-btn');
const collageDisplay = document.getElementById('collage-display');
const mTitle = document.getElementById('modal-title');
const mHeading = document.getElementById('modal-heading');
const mTags = document.getElementById('modal-tags');
const mText = document.getElementById('modal-text');


const lightbox = document.getElementById('lightbox');
const lbImg = document.getElementById('lb-img');
const lbVideo = document.getElementById('lb-video');
const lbClose = document.getElementById('lb-close');
const lbPrev = document.getElementById('lb-prev');
const lbNext = document.getElementById('lb-next');
const lbCounter = document.getElementById('lb-counter');



function renderCollage(data) {
    mHeading.innerText = data.title;
    mTags.innerText = data.tags;
    
    mText.innerHTML = data.desc; 

    const mediaItems = collageDisplay.querySelectorAll('.media-item');
    mediaItems.forEach(item => item.remove());

    if (data.gallery && data.gallery.length > 0) {
        data.gallery.forEach((item, index) => {
            const collageItem = document.createElement('div');
            collageItem.classList.add('collage-item', 'media-item');
            
            collageItem.style.cursor = 'zoom-in';
            collageItem.addEventListener('click', () => {
                openLightbox(index);
            });

          let mediaEl;
            
            if (item.type === 'video') {
                mediaEl = document.createElement('video');
                mediaEl.src = item.src;
            } else if (item.type === 'youtube') {
             
                mediaEl = document.createElement('iframe');
                mediaEl.src = item.src;
                mediaEl.style.border = "none";
                mediaEl.style.aspectRatio = "16/9";
                mediaEl.style.width = "100%";
                
                mediaEl.allow = "accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share";
                mediaEl.allowFullscreen = true; 

    
            } else {
                mediaEl = document.createElement('img');
                mediaEl.src = item.src;
                mediaEl.onerror = function() { this.style.display = 'none'; };
            }
            

            collageItem.appendChild(mediaEl);
            collageDisplay.appendChild(collageItem);
        });
    }
}


function openLightbox(index) {
    if(!currentProject) return;
    currentLbIndex = index;
    updateLightboxContent();
    
    lightbox.classList.remove('hidden');
    
    setTimeout(() => lightbox.classList.add('active'), 10);
}
const lbYoutube = document.getElementById('lb-youtube');

function closeLightbox() {
    lightbox.classList.remove('active');
    lbVideo.pause(); 
    
    lbYoutube.src = ""; 
    lbYoutube.style.display = 'none';

    setTimeout(() => {
        lightbox.classList.add('hidden');
        lbImg.src = "";
        lbVideo.src = "";
    }, 300);
}

function updateLightboxContent() {
    const item = currentProject.gallery[currentLbIndex];
    
    lbImg.style.display = 'none';
    lbVideo.style.display = 'none';
    lbYoutube.style.display = 'none';
    
    lbVideo.pause();

    if(item.type === 'video') {
        lbVideo.src = item.src;
        lbVideo.style.display = 'block';
        lbVideo.controls = true;
    } else if (item.type === 'youtube') {
        lbYoutube.src = item.src;
        lbYoutube.style.display = 'block';
    } else {
        lbImg.src = item.src;
        lbImg.style.display = 'block';
    }

    lbCounter.innerText = `${currentLbIndex + 1} / ${currentProject.gallery.length}`;
}
function nextImage() {
    currentLbIndex = (currentLbIndex + 1) % currentProject.gallery.length;
    updateLightboxContent();
}

function prevImage() {
    currentLbIndex = (currentLbIndex - 1 + currentProject.gallery.length) % currentProject.gallery.length;
    updateLightboxContent();
}

lbClose.addEventListener('click', closeLightbox);
lbNext.addEventListener('click', (e) => { e.stopPropagation(); nextImage(); });
lbPrev.addEventListener('click', (e) => { e.stopPropagation(); prevImage(); });

lightbox.addEventListener('click', (e) => {
    if(e.target === lightbox || e.target.classList.contains('lb-content')) {
        closeLightbox();
    }
});

document.addEventListener('keydown', (e) => {
    if (!lightbox.classList.contains('hidden')) {
        if (e.key === 'Escape') closeLightbox();
        if (e.key === 'ArrowRight') nextImage();
        if (e.key === 'ArrowLeft') prevImage();
    }
});


function openModal(id) {
    const data = projectsData[id];
    if(!data) return;
    currentProject = data;
    mTitle.innerText = data.title;
    renderCollage(data);
    modalOverlay.classList.remove('hidden');
    setTimeout(() => modalOverlay.classList.add('active'), 10);
}

function closeModal() {
    modalOverlay.classList.remove('active');
    setTimeout(() => modalOverlay.classList.add('hidden'), 300);
}

closeBtn.addEventListener('click', closeModal);
modalOverlay.addEventListener('click', (e) => {
    if(e.target === modalOverlay) closeModal();
});


const draggables = document.querySelectorAll('.draggable');
let isDragging = false;
let wasDragged = false;
let startX, startY, initialLeft, initialTop;
let currentElement = null;

if (window.innerWidth > 768) {
    draggables.forEach(el => {
        el.addEventListener('mousedown', (e) => {
            isDragging = true; wasDragged = false; currentElement = el;
            startX = e.clientX; startY = e.clientY;
            initialLeft = el.offsetLeft; initialTop = el.offsetTop;
            draggables.forEach(d => d.style.zIndex = "1"); el.style.zIndex = "100";
        });
        el.addEventListener('mouseup', (e) => {
            if (!isDragging) return;
            if (!wasDragged) { const id = el.getAttribute('data-id'); openModal(id); }
            isDragging = false; currentElement = null; if(el) el.style.cursor = 'grab';
        });
    });
    window.addEventListener('mousemove', (e) => {
        if (!isDragging || !currentElement) return;
        e.preventDefault(); 
        const dx = e.clientX - startX; const dy = e.clientY - startY;
        if (Math.abs(dx) > 5 || Math.abs(dy) > 5) {
            wasDragged = true;
            currentElement.style.cursor = 'grabbing';
            currentElement.style.left = `${initialLeft + dx}px`;
            currentElement.style.top = `${initialTop + dy}px`;
        }
    });
} else {
    draggables.forEach(el => { el.addEventListener('click', () => { const id = el.getAttribute('data-id'); openModal(id); }); });
}

function initFolderPreviews() {
    const folders = document.querySelectorAll('.folder');
    folders.forEach(folder => {
        const id = folder.getAttribute('data-id'); 
        const data = projectsData[id];
        
        if (data && data.gallery && data.gallery.length > 0) {
            const iconContainer = folder.querySelector('.folder-icon');
            
            const previewImg = document.createElement('img');
            previewImg.classList.add('preview-img');
            
            const images = data.gallery.filter(item => item.type === 'image');
            
            if (images.length > 0) {
                previewImg.src = images[0].src; 
                iconContainer.appendChild(previewImg);
            }
        }
    });
}
initFolderPreviews();

document.getElementById('about-btn').addEventListener('click', () => openModal('about'));
